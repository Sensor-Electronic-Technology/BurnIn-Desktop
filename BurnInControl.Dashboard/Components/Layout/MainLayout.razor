@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager
@inject DialogService DialogService
@inject ContextMenuService ContextMenuService
@inject TooltipService TooltipService
@inject NotificationService NotificationService

<RadzenComponents />
<RadzenLayout Style="position: relative">
    <RadzenHeader>
        <RadzenRow JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Gap="0">
            <RadzenColumn Size="5">
                <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="5">
                    <RadzenSidebarToggle Click="@SidebarToggleClick"/>
                    <RadzenImage Path="images/seti_logo.png" style="width: 100px; height: 48px;" AlternateText="Application logo"></RadzenImage>
                    <RadzenText Text="Burn-in Dashboard" TextStyle="TextStyle.Subtitle1" class="rz-mb-0" style="color: var(--rz-sidebar-color);"/>
                </RadzenStack>
            </RadzenColumn>
            <RadzenColumn >
                <RadzenStack AlignItems="AlignItems.End" Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" Style="padding: 0.5rem">
                    <ErrorDisplay/>
                </RadzenStack>
            </RadzenColumn>
        </RadzenRow>
    </RadzenHeader>
    <RadzenBody Expanded="@sidebarExpanded">
        @Body
    </RadzenBody>
    <RadzenSidebar style="z-index: 2; width:max-content;">
        <RadzenPanelMenu DisplayStyle="@(sidebarExpanded ? MenuItemDisplayStyle.IconAndText : MenuItemDisplayStyle.Icon)" ShowArrow="false">
            <RadzenPanelMenuItem Text="Dashboard" Image="images/seti_logo.png" Path="/"/>
            <RadzenPanelMenuItem Text="Test Logs" Icon="assessment" Path="wafer-logs" />
            <RadzenPanelMenuItem Text="Help" Icon="help" Path="help" />
        </RadzenPanelMenu>
    </RadzenSidebar>
</RadzenLayout>

@code {
   bool sidebarExpanded = false;

   void SidebarToggleClick() {
       sidebarExpanded = !sidebarExpanded;
   }
}

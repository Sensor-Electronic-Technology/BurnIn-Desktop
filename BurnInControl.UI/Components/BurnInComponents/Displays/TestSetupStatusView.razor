@using BurnInControl.UI.Data
@if (this.SetupAlerts != null) {
    <RadzenStack Gap="1" Style="margin: 0.5rem" Visible="@this.SetupStatusVisible">
        <RadzenText TextStyle="TextStyle.H5"
                    Text="Wafer Setup Status"
                    TextAlign="TextAlign.Center"
                    Style="font-weight: bold;"/>
        @foreach (var alert in this.SetupAlerts) {
            var alertMessage = $"WaferId: {alert.Message}";
            <RadzenCard>
                <RadzenStack Orientation="Orientation.Vertical"
                             AlignItems="AlignItems.Center">
                    <RadzenStack Orientation="Orientation.Horizontal" Gap="10" AlignItems="AlignItems.Center">
                        <RadzenText Text="@alert.Pocket"
                                    TextStyle="TextStyle.H6"
                                    TextAlign="TextAlign.Center"/>
                        <RadzenAlert AlertStyle="AlertStyle.Success" Text="Okay" Size="AlertSize.ExtraSmall" 
                                     AllowClose="false"/>
                    </RadzenStack>
                    <RadzenStack AlignItems="AlignItems.Start">
                        <RadzenAlert AlertStyle="@alert.Style"
                                     Title="WaferId Status"
                                     Text="@alert.Message"
                                     AllowClose="false"
                                     ShowIcon="true"
                                     Size="AlertSize.ExtraSmall"
                                     Variant="Variant.Filled"
                                     Shade="Shade.Darker"/>
                        @if (alert.SecondaryAlert != null) {
                            var secondaryAlertMessage = $"ProbePads: {alert.SecondaryAlert.Message}";
                            <RadzenStack Orientation="Orientation.Horizontal" Gap="0">
                                <RadzenAlert AlertStyle="@alert.SecondaryAlert.Style"
                                             Title="Probe Pad Status"
                                             Text="@alert.SecondaryAlert.Message"
                                             AllowClose="false"
                                             ShowIcon="true"
                                             Size="AlertSize.ExtraSmall"
                                             Variant="Variant.Filled"
                                             Shade="Shade.Darker"/>
                            </RadzenStack>
                        }
                    </RadzenStack>


                </RadzenStack>
            </RadzenCard>
        }
    </RadzenStack>
}

@code {
    [Parameter] public bool SetupStatusVisible { get; set; }
    [Parameter] public IEnumerable<SetupAlert>? SetupAlerts { get; set; }
}
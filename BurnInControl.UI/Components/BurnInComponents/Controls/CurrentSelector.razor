@using BurnInControl.Data.StationModel.Components
<RadzenFormField Text="Current" Style="width: fit-content">
    <RadzenDropDown TValue="string" Data="@this._currents" 
                    SelectedItem="@_selectedItem" 
                    ValueChanged="CurrentChangedHandler" AllowSelectAll="false"  />
</RadzenFormField>
@code {
    private IEnumerable<string?> _currents = StationCurrent.List.Select(x => x.Name);
    
    [Parameter]
    public int Current { get; set; }
    
    [Parameter]
    public EventCallback<int> CurrentChanged { get; set; }
    
    private string? _selectedItem;


    private async Task CurrentChangedHandler(string current) {
        await CurrentChanged.InvokeAsync(StationCurrent.FromName(current).Value);
    }

    protected override Task OnParametersSetAsync() {
        this._selectedItem = this._currents.FirstOrDefault(e => e == StationCurrent.FromValue(Current).Name);
        return base.OnParametersSetAsync();
    }
}